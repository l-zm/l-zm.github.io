{"title":"Linux 计划任务 CronTab","date":"2022-01-01T00:00:00.000Z","date_formatted":{"ll":"2022年1月1日","L":"2022/01/01","MM-DD":"01-01"},"thumbnail":"https://pic.imgdb.cn/item/626c9b44239250f7c5ac164d.png","link":"linux-crontab","tags":["CronTab","Linux"],"categories":["CronTab","Linux"],"updated":"2021-12-31T16:00:00.000Z","content":"<blockquote>\n<p>CronTab 的语法</p>\n<p>* * * * * date &gt;&gt; /tmp/date.txt</p>\n</blockquote>\n<div class=\"φbq\"><div class=\"φbs\"><table><thead>\n<tr>\n<th style=\"text-align:center\">*</th>\n<th style=\"text-align:center\">*</th>\n<th style=\"text-align:center\">*</th>\n<th style=\"text-align:center\">*</th>\n<th style=\"text-align:center\">*</th>\n<th style=\"text-align:center\">date &gt;&gt; /tmp/date.txt</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">分钟</td>\n<td style=\"text-align:center\">小时</td>\n<td style=\"text-align:center\">几号</td>\n<td style=\"text-align:center\">几月</td>\n<td style=\"text-align:center\">星期</td>\n<td style=\"text-align:center\">需要执行的命令</td>\n</tr>\n</tbody>\n</table></div></div><p><img src=\"https://pic.imgdb.cn/item/626cf1db239250f7c57d0a84.png\" alt=\"Linux 计划任务 CronTab\" loading=\"lazy\" class=\"φbp\"></p>\n<h2 id=\"案例\">案例<a title=\"#案例\" href=\"#案例\"></a></h2>\n<h3 id=\"每一小时\">每一小时<a title=\"#每一小时\" href=\"#每一小时\"></a></h3>\n<p><code>* */1 * * * /service/l-zm/request.sh</code></p>\n<h3 id=\"每小时执行/etc/cron.hourly目录内的脚本\">每小时执行/etc/cron.hourly目录内的脚本<a title=\"#每小时执行/etc/cron.hourly目录内的脚本\" href=\"#每小时执行/etc/cron.hourly目录内的脚本\"></a></h3>\n<p><code>01 * * * * root run-parts /etc/cron.hourly</code></p>\n<h3 id=\"每小时的第3和第15分钟执行\">每小时的第3和第15分钟执行<a title=\"#每小时的第3和第15分钟执行\" href=\"#每小时的第3和第15分钟执行\"></a></h3>\n<p><code>3,15 * * * * /service/l-zm/request.sh</code></p>\n<h3 id=\"在上午8点到11点的第3和第15分钟执行\">在上午8点到11点的第3和第15分钟执行<a title=\"#在上午8点到11点的第3和第15分钟执行\" href=\"#在上午8点到11点的第3和第15分钟执行\"></a></h3>\n<p><code>3,15 8-11 * * * /service/l-zm/request.sh</code></p>\n<h3 id=\"每隔两天的上午8点到11点的第3和第15分钟执行\">每隔两天的上午8点到11点的第3和第15分钟执行<a title=\"#每隔两天的上午8点到11点的第3和第15分钟执行\" href=\"#每隔两天的上午8点到11点的第3和第15分钟执行\"></a></h3>\n<p><code>3,15 8-11 */2 * * date &gt;&gt; /tmp/date.txt</code></p>\n<h3 id=\"每个星期一的上午8点到11点的第3和第15分钟执行\">每个星期一的上午8点到11点的第3和第15分钟执行<a title=\"#每个星期一的上午8点到11点的第3和第15分钟执行\" href=\"#每个星期一的上午8点到11点的第3和第15分钟执行\"></a></h3>\n<p><code>3,15 8-11 * * 1 date &gt;&gt; /tmp/date.txt</code></p>\n<h3 id=\"每晚的21:30\">每晚的21:30<a title=\"#每晚的21:30\" href=\"#每晚的21:30\"></a></h3>\n<p><code>30 21 * * * /service/l-zm/request.sh</code></p>\n<h3 id=\"每月1、10、22日的4-:-45\">每月1、10、22日的4 : 45<a title=\"#每月1、10、22日的4-:-45\" href=\"#每月1、10、22日的4-:-45\"></a></h3>\n<p><code>45 4 1,10,22 * * /service/l-zm/request.sh</code></p>\n<h3 id=\"每周六、周日的1-:-10\">每周六、周日的1 : 10<a title=\"#每周六、周日的1-:-10\" href=\"#每周六、周日的1-:-10\"></a></h3>\n<p><code>10 1 * * 6,0 /service/l-zm/request.sh</code></p>\n<h3 id=\"每天18-:-00至23-:-00之间每隔30分钟\">每天18 : 00至23 : 00之间每隔30分钟<a title=\"#每天18-:-00至23-:-00之间每隔30分钟\" href=\"#每天18-:-00至23-:-00之间每隔30分钟\"></a></h3>\n<p><code>0,30 18-23 * * * /service/l-zm/request.sh</code></p>\n<h3 id=\"每星期六的晚上11-:-00-pm\">每星期六的晚上11 : 00 pm<a title=\"#每星期六的晚上11-:-00-pm\" href=\"#每星期六的晚上11-:-00-pm\"></a></h3>\n<p><code>0 23 * * 6 /service/l-zm/request.sh</code></p>\n<h3 id=\"晚上11点到早上7点之间，每隔一小时\">晚上11点到早上7点之间，每隔一小时<a title=\"#晚上11点到早上7点之间，每隔一小时\" href=\"#晚上11点到早上7点之间，每隔一小时\"></a></h3>\n<p><code>* 23-7/1 * * * /service/l-zm/request.sh</code></p>\n<h3 id=\"每月的4号与每周一到周三的11点\">每月的4号与每周一到周三的11点<a title=\"#每月的4号与每周一到周三的11点\" href=\"#每月的4号与每周一到周三的11点\"></a></h3>\n<p><code>0 11 4 * mon-wed /service/l-zm/request.sh</code></p>\n<h3 id=\"一月一号的4点\">一月一号的4点<a title=\"#一月一号的4点\" href=\"#一月一号的4点\"></a></h3>\n<p><code>0 4 1 jan * /service/l-zm/request.sh</code></p>\n<h3 id=\"每秒执行一次\">每秒执行一次<a title=\"#每秒执行一次\" href=\"#每秒执行一次\"></a></h3>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 0s;<span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 1s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 2s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 3s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 4s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 5s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 6s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 7s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 8s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 9s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 10s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 11s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 12s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 13s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 14s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 15s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 16s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 17s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 18s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 19s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 20s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 21s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 22s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 23s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 24s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 25s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 26s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 27s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 28s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 29s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 30s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 31s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 32s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 33s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 34s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 35s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 36s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 37s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 38s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 39s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 40s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 41s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 42s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 43s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 44s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 45s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 46s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 47s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 48s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 49s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 50s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 51s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 52s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 53s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 54s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 55s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 56s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 57s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 58s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\">*/1 * * * * <span class=\"built_in\">sleep</span> 59s; <span class=\"built_in\">date</span> &gt;&gt; /tmp/date.txt</span><br><span class=\"line\"></span><br><span class=\"line\">如果每秒没有循环连续 可以试试把 <span class=\"built_in\">sleep</span> 0s 删除, 在最后添加 <span class=\"built_in\">sleep</span> 60s (CentOS 和 Ubuntu 下不一样)</span><br></pre></td></tr></table></figure>\n<h2 id=\"crontab-使用与解释\">CronTab 使用与解释<a title=\"#crontab-使用与解释\" href=\"#crontab-使用与解释\"></a></h2>\n<p><code>crontab -l</code> 查看所有的计划任务</p>\n<p><code>crontab -e</code> 修改计划任务</p>\n<p><code>service crond start</code> 启动计划任务</p>\n<p><code>service crond restart</code> 重启计划任务</p>\n<p><code>service crond reload</code> 重新载入计划任务</p>\n","prev":{"title":"临时文档","link":"1"},"plink":"http://l-zm.com/linux-crontab/","toc":[{"id":"案例","title":"案例","index":"1","children":[{"id":"每一小时","title":"每一小时","index":"1.1"},{"id":"每小时执行/etc/cron.hourly目录内的脚本","title":"每小时执行&#x2F;etc&#x2F;cron.hourly目录内的脚本","index":"1.2"},{"id":"每小时的第3和第15分钟执行","title":"每小时的第3和第15分钟执行","index":"1.3"},{"id":"在上午8点到11点的第3和第15分钟执行","title":"在上午8点到11点的第3和第15分钟执行","index":"1.4"},{"id":"每隔两天的上午8点到11点的第3和第15分钟执行","title":"每隔两天的上午8点到11点的第3和第15分钟执行","index":"1.5"},{"id":"每个星期一的上午8点到11点的第3和第15分钟执行","title":"每个星期一的上午8点到11点的第3和第15分钟执行","index":"1.6"},{"id":"每晚的21:30","title":"每晚的21:30","index":"1.7"},{"id":"每月1、10、22日的4-:-45","title":"每月1、10、22日的4 : 45","index":"1.8"},{"id":"每周六、周日的1-:-10","title":"每周六、周日的1 : 10","index":"1.9"},{"id":"每天18-:-00至23-:-00之间每隔30分钟","title":"每天18 : 00至23 : 00之间每隔30分钟","index":"1.10"},{"id":"每星期六的晚上11-:-00-pm","title":"每星期六的晚上11 : 00 pm","index":"1.11"},{"id":"晚上11点到早上7点之间，每隔一小时","title":"晚上11点到早上7点之间，每隔一小时","index":"1.12"},{"id":"每月的4号与每周一到周三的11点","title":"每月的4号与每周一到周三的11点","index":"1.13"},{"id":"一月一号的4点","title":"一月一号的4点","index":"1.14"},{"id":"每秒执行一次","title":"每秒执行一次","index":"1.15"}]},{"id":"crontab-使用与解释","title":"CronTab 使用与解释","index":"2"}],"reading_time":"914 字约 6 分钟"}