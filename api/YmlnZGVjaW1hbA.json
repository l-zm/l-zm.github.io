{"title":"BigDecimal Java 高精度运算","date":"2022-01-03T00:00:00.000Z","date_formatted":{"ll":"2022年1月3日","L":"2022/01/03","MM-DD":"01-03"},"thumbnail":"https://pic.imgdb.cn/item/626ca558239250f7c5c3694f.png","link":"bigdecimal","tags":["BigDecimal","Java"],"categories":["BigDecimal","Java"],"updated":"2022-01-02T16:00:00.000Z","content":"<h2 id=\"常用方法\">常用方法<a title=\"#常用方法\" href=\"#常用方法\"></a></h2>\n<ul>\n<li>加法 : <code>BigDecimal add(BigDecimal augend)</code></li>\n<li>减法 : <code>BigDecimal subtract(BigDecimal subtrahend)</code></li>\n<li>乘法 : <code>BigDecimal multiply(BigDecimal multiplicand)</code></li>\n<li>除法 : <code>BigDecimal divide(BigDecimal divisor)</code></li>\n</ul>\n<h2 id=\"大小比较\">大小比较<a title=\"#大小比较\" href=\"#大小比较\"></a></h2>\n<ul>\n<li><code>int compareTo(BigDecimal val)</code>\n<ul>\n<li>A &lt; B 返回 : -1</li>\n<li>A = B 返回 : 0</li>\n<li>A &gt; B 返回 : 1</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"格式化\">格式化<a title=\"#格式化\" href=\"#格式化\"></a></h2>\n<h3 id=\"百分比\">百分比<a title=\"#百分比\" href=\"#百分比\"></a></h3>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">BigDecimal</span> <span class=\"variable\">A</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">BigDecimal</span>(<span class=\"string\">&quot;0.0008&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">NumberFormat</span> <span class=\"variable\">percentInstance</span> <span class=\"operator\">=</span> NumberFormat.getPercentInstance();</span><br><span class=\"line\">percentInstance.setRoundingMode(RoundingMode.DOWN); <span class=\"comment\">// 舍入模式: 截尾</span></span><br><span class=\"line\">percentInstance.setMaximumFractionDigits(<span class=\"number\">2</span>); <span class=\"comment\">// 百分比小数最多两位</span></span><br><span class=\"line\">percentInstance.setMinimumFractionDigits(<span class=\"number\">2</span>); <span class=\"comment\">// 百分比小数最少两位 0.00%</span></span><br><span class=\"line\"></span><br><span class=\"line\">percentInstance.format(interestRate); <span class=\"comment\">// 0.08%</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"不同舍入模式下的舍入操作汇总\">不同舍入模式下的舍入操作汇总<a title=\"#不同舍入模式下的舍入操作汇总\" href=\"#不同舍入模式下的舍入操作汇总\"></a></h2>\n<div class=\"φbq\"><div class=\"φbs\"><table><thead>\n<tr>\n<th style=\"text-align:center\">NUMBER</th>\n<th style=\"text-align:center\">UP</th>\n<th style=\"text-align:center\">DOWN</th>\n<th style=\"text-align:center\">CEILING</th>\n<th style=\"text-align:center\">FLOOR</th>\n<th style=\"text-align:center\">HALF_UP</th>\n<th style=\"text-align:center\">HALF_DOWN</th>\n<th style=\"text-align:center\">HALF_EVEN</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">5.5</td>\n<td style=\"text-align:center\">6</td>\n<td style=\"text-align:center\">5</td>\n<td style=\"text-align:center\">6</td>\n<td style=\"text-align:center\">5</td>\n<td style=\"text-align:center\">6</td>\n<td style=\"text-align:center\">5</td>\n<td style=\"text-align:center\">6</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">2.5</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">3</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">2</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">1.6</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">2</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">1.1</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">2</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">1.0</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">1</td>\n<td style=\"text-align:center\">1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-1.0</td>\n<td style=\"text-align:center\">-1</td>\n<td style=\"text-align:center\">-1</td>\n<td style=\"text-align:center\">-1</td>\n<td style=\"text-align:center\">-1</td>\n<td style=\"text-align:center\">-1</td>\n<td style=\"text-align:center\">-1</td>\n<td style=\"text-align:center\">-1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-1.1</td>\n<td style=\"text-align:center\">-2</td>\n<td style=\"text-align:center\">-1</td>\n<td style=\"text-align:center\">-1</td>\n<td style=\"text-align:center\">-2</td>\n<td style=\"text-align:center\">-1</td>\n<td style=\"text-align:center\">-1</td>\n<td style=\"text-align:center\">-1</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-1.6</td>\n<td style=\"text-align:center\">-2</td>\n<td style=\"text-align:center\">-1</td>\n<td style=\"text-align:center\">-1</td>\n<td style=\"text-align:center\">-2</td>\n<td style=\"text-align:center\">-2</td>\n<td style=\"text-align:center\">-2</td>\n<td style=\"text-align:center\">-2</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-2.5</td>\n<td style=\"text-align:center\">-3</td>\n<td style=\"text-align:center\">-2</td>\n<td style=\"text-align:center\">-2</td>\n<td style=\"text-align:center\">-3</td>\n<td style=\"text-align:center\">-3</td>\n<td style=\"text-align:center\">-2</td>\n<td style=\"text-align:center\">-2</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">-5.5</td>\n<td style=\"text-align:center\">-6</td>\n<td style=\"text-align:center\">-5</td>\n<td style=\"text-align:center\">-5</td>\n<td style=\"text-align:center\">-6</td>\n<td style=\"text-align:center\">-6</td>\n<td style=\"text-align:center\">-5</td>\n<td style=\"text-align:center\">-6</td>\n</tr>\n</tbody>\n</table></div></div><p><strong>UP</strong> 远离零方向舍入的舍入模式。始终对非零舍弃部分前面的数字加 1。注意，此舍入模式始终不会减少计算值的绝对值</p>\n<p><strong>DOWN</strong> 向零方向舍入的舍入模式。从不对舍弃部分前面的数字加 1（即截尾）。注意，此舍入模式始终不会增加计算值的绝对值</p>\n<p><strong>CEILING</strong> 向正无限大方向舍入的舍入模式。如果结果为正，则舍入行为类似于 RoundingMode.UP；如果结果为负，则舍入行为类似于 RoundingMode.DOWN。注意，此舍入模式始终不会减少计算值</p>\n<p><strong>FLOOR</strong> 向负无限大方向舍入的舍入模式。如果结果为正，则舍入行为类似于 RoundingMode.DOWN；如果结果为负，则舍入行为类似于 RoundingMode.UP。注意，此舍入模式始终不会增加计算值</p>\n<p><strong>HALF_UP</strong> 向最接近数字方向舍入的舍入模式，如果与两个相邻数字的距离相等，则向上舍入。如果被舍弃部分 &gt;= 0.5，则舍入行为同 RoundingMode.UP；否则舍入行为同 RoundingMode.DOWN。注意，此舍入模式就是通常学校里讲的四舍五入</p>\n<p><strong>HALF_DOWN</strong> 向最接近数字方向舍入的舍入模式，如果与两个相邻数字的距离相等，则向下舍入。如果被舍弃部分 &gt; 0.5，则舍入行为同 RoundingMode.UP；否则舍入行为同 RoundingMode.DOWN</p>\n<p><strong>HALF_EVEN</strong> 向最接近数字方向舍入的舍入模式，如果与两个相邻数字的距离相等，则向相邻的偶数舍入。如果舍弃部分左边的数字为奇数，则舍入行为同 RoundingMode.HALF_UP；如果为偶数，则舍入行为同 RoundingMode.HALF_DOWN。注意，在重复进行一系列计算时，此舍入模式可以在统计上将累加错误减到最小。此舍入模式也称为“银行家舍入法”，主要在美国使用。此舍入模式类似于 Java 中对 float 和 double 算法使用的舍入策略</p>\n<p><strong>UNNECESSARY</strong> 用于断言请求的操作具有精确结果的舍入模式，因此不需要舍入。如果对生成精确结果的操作指定此舍入模式，则抛出 ArithmeticException</p>\n","prev":{"title":"Redis 配置文件说明","link":"redis-config-explan"},"next":{"title":"Mac 修改 Dock 栏的隐藏速度","link":"mac-edit-dock-hidden-speed"},"plink":"http://l-zm.com/bigdecimal/","toc":[{"id":"常用方法","title":"常用方法","index":"1"},{"id":"大小比较","title":"大小比较","index":"2"},{"id":"格式化","title":"格式化","index":"3","children":[{"id":"百分比","title":"百分比","index":"3.1"}]},{"id":"不同舍入模式下的舍入操作汇总","title":"不同舍入模式下的舍入操作汇总","index":"4"}],"reading_time":"796 字约 5 分钟"}